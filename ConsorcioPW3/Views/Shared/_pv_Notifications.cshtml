@using ConsorcioPW3.Helpers

@{
    var successList = Html.GetNotifications(NotificationType.SUCCESS);
    var errorsList = Html.GetNotifications(NotificationType.ERROR);
}

@if (successList != null)
{
    <div class="alert alert-success alert-dismissable">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
        @if (successList.Count() > 1)
        {
            <strong><span class="glyphicon glyphicon-ok"></span> There are @successList.Count() successful notifications: </strong>
            <ul>
                @foreach (String message in successList)
                {
                    <li>@Html.Raw(message)</li>
                }
            </ul>
        }
        else
        {
            <strong><span class="glyphicon glyphicon-ok"></span> Success! </strong>
            @Html.Raw(successList.First())
        }
    </div>
}

@if (errorsList != null)
{
    <div class="alert alert-danger alert-dismissable">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
        @if (errorsList.Count() > 1)
        {
            <strong><span class="glyphicon glyphicon-ok"></span> There are @errorsList.Count() error notifications: </strong>
            <ul>
                @foreach (String message in errorsList)
                {
                    <li>@Html.Raw(message)</li>
                }
            </ul>
        }
        else
        {
            <strong><span class="glyphicon glyphicon-ok"></span> Error: </strong>
            @Html.Raw(errorsList.First())
        }
    </div>
}
